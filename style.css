body {
    background-color: black;
    color: white;
    font-family: sans-serif;
    padding: 2em;
}

h1 {
    font-size: 2em;
    text-align: center;
}

#fullscreen, #add-event-modal, #image-viewer-modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.95);
    z-index: 1000;
    padding: 3em 1em 1em 1em;
    align-items: center;
    justify-content: center;
    overflow-y: auto;
}

#image-viewer-modal {
    z-index: 1002; /* Ensure it's on top of other modals */
}

.event {
    background-color: #222;
    border: 1px solid #555;
    border-radius: 12px;
    padding: 1em;
    margin-bottom: 1em;
    box-shadow: 0 2px 5px rgba(255, 255, 255, 0.1);
    position: relative;
    cursor: pointer;
    transition: transform 0.5s ease, opacity 0.5s ease;
}

    .event strong {
        font-size: 1.2em;
        color: #4fc3f7;
    }

    .event.custom-colored strong {
        color: inherit; /* Let the parent's color take over */
    }

.time-until {
    position: absolute;
    bottom: 8px;
    right: 12px;
    font-size: 0.9em;
    color: #ccc;
}

.big-time {
    position: static;
    font-size: 2em;
    font-weight: bold;
    color: #fff;
    text-align: center;
}

.starting-soon {
    border-color: orange;
    animation: pulseOrange 2s infinite alternate ease-in-out;
}

@keyframes pulseOrange {
    from {
        box-shadow: 0 0 10px orange;
    }

    to {
        box-shadow: 0 0 20px orange;
    }
}

.final-countdown {
    border-color: red;
    animation: pulseRed 2s infinite alternate ease-in-out;
    background-color: #400;
}

@keyframes pulseRed {
    from {
        box-shadow: 0 0 20px 5px red;
        background-color: #600;
    }

    to {
        box-shadow: 0 0 40px 15px red;
        background-color: #900;
    }
}

.happening-now {
    border-color: #aeefff;
    animation: pulseBlue 2s infinite alternate ease-in-out;
    background-color: #99ccff;
    color: black;
}

    .happening-now.custom-colored {
        color: inherit; /* Let custom color override */
    }

@keyframes pulseBlue {
    from {
        box-shadow: 0 0 10px #ffffff;
        background-color: #cceeff;
    }

    to {
        box-shadow: 0 0 20px #ffffff;
        background-color: #e0f7ff;
    }
}

.slide-out {
    transform: translateX(-100%);
    opacity: 0;
}

.slide-in {
    transform: translateX(100%);
    opacity: 0;
}

.slide-in-active {
    transform: translateX(0);
    opacity: 1;
}

.event-animating {
    transition: transform 0.5s cubic-bezier(.34,1.56,.64,1);
    z-index: 0;
}

.details-card, .modal-card {
    background: #16181e;
    border-radius: 16px;
    box-shadow: 0 4px 24px rgba(80,200,255,0.12);
    padding: 2em 2em 1.5em 2em;
    color: #fff;
    max-width: 450px;
    margin: 2em auto 0 auto;
    font-size: 1.08em;
    border: 1.5px solid #4fc3f7;
    position: relative;
}

.details-title, .modal-title {
    font-size: 1.7em;
    color: #4fc3f7;
    font-weight: 600;
    margin-bottom: 0.4em;
    text-align: center;
    letter-spacing: 0.01em;
}

.details-row, .modal-row {
    margin-bottom: 0.7em;
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
    gap: 0.5em;
    align-items: baseline; /* Align textboxes with labels */
}

.details-label, .modal-label {
    color: #aeefff;
    min-width: 90px;
    font-weight: 500;
    display: inline-block;
    padding-top: 0.5em;
}

.details-date {
    font-size: 1.1em;
    color: #fff;
    font-weight: 500;
    margin-bottom: 1em;
}

.details-description {
    margin-top: 1.5em;
    font-size: 1em;
    color: #dbefff;
    line-height: 1.5;
}

.details-image-gallery {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 10px;
    margin-bottom: 10px;
}

    .details-image-gallery img {
        max-width: 80px;
        max-height: 80px;
        border-radius: 8px;
        cursor: pointer;
        border: 2px solid #4fc3f7;
    }

.details-description .details-label {
    min-width: 0;
    font-weight: 600;
    color: #4fc3f7;
}

.close-btn {
    background: #0c1820;
    color: #4fc3f7;
    border: 1px solid #4fc3f7;
    font-size: 2em;
    font-weight: bold;
    border-radius: 50%;
    width: 32px;
    height: 32px;
    line-height: 28px;
    text-align: center;
    cursor: pointer;
    transition: background 0.2s, color 0.2s;
    padding: 0;
}

    .close-btn:hover {
        background: #223344;
        color: #fff;
    }

.modal-card .close-btn {
    position: absolute;
    top: 1em;
    right: 1.2em;
    z-index: 12;
}

.date-divider {
    border-top: 2px solid #4fc3f7;
    margin: 1em 0;
    padding-top: 0.5em;
    font-size: 1.2em;
    color: #4fc3f7;
    text-align: center;
}

.event-time-row {
    display: flex;
    align-items: center;
    gap: 1.3em;
    font-size: 1.02em;
    margin-bottom: 0.5em;
}

.event-duration {
    color: #bbb;
    font-size: 0.99em;
}

/* --- Glow and pop-in for auto-triggered details --- */
@keyframes popIn {
    from {
        transform: scale(0.6);
        opacity: 0;
    }

    to {
        transform: scale(1);
        opacity: 1;
    }
}

#fullscreen.auto-glow .details-card {
    animation: popIn 0.3s ease-out, pulseJoinNow 0.6s ease-in-out infinite alternate;
    border-color: #33f3ff;
    box-shadow: 0 0 40px 20px #33f3ff;
    z-index: 2000;
}

@keyframes pulseJoinNow {
    from {
        box-shadow: 0 0 40px 10px #33f3ff;
        background-color: #0a2c38;
        border-color: #33f3ff;
    }

    to {
        box-shadow: 0 0 90px 40px #66fcff;
        background-color: #00475c;
        border-color: #66fcff;
    }
}


#current-time {
    font-family: 'DSEG7Classic-Regular', monospace;
    font-size: 4.5em;
    color: #33f3ff;
    text-align: center;
    letter-spacing: 0.12em;
    text-shadow: 0 0 2px #0ff, 0 0 4px #0ff;
}

/* --- All Day Events Styles --- */
#all-day-container {
    text-align: center;
    margin-bottom: 1.5em;
    padding: 1em 0;
    border-bottom: 1px solid #444;
}

.all-day-event {
    display: inline-block;
    background: #2a3b4d;
    color: #cdefff;
    padding: 0.4em 1em;
    border-radius: 16px;
    margin: 0 0.5em 0.5em 0;
    border: 1px solid #4fc3f7;
    font-size: 1em;
    cursor: pointer;
    transition: background-color 0.2s;
}

    .all-day-event:hover {
        background-color: #4fc3f7;
        color: black;
    }

.all-day-title {
    font-size: 1.2em;
    color: #4fc3f7;
    margin-bottom: 0.75em;
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

/* --- Two-Column Layout Styles --- */
#main-content-wrapper {
    display: block;
}

body.layout-split-column #main-content-wrapper {
    display: flex;
    gap: 2em;
    align-items: flex-start;
}

body.layout-split-column #all-day-container {
    flex: 1;
    max-width: 350px;
    border-bottom: none;
    padding: 0;
    margin-bottom: 0;
    text-align: left;
}

body.layout-split-column #events {
    flex: 2;
}

body.layout-split-column .all-day-event {
    display: block;
    margin-bottom: 0.75em;
}

/* --- Main Action Button Styles --- */
.action-btn {
    position: fixed;
    top: 1.5em;
    width: 3em;
    height: 3em;
    background: #223344;
    color: #aeefff;
    border: 1.5px solid #4fc3f7;
    border-radius: 50%;
    font-size: 1.5em;
    cursor: pointer;
    z-index: 2000;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    justify-content: center;
}

#settings-btn {
    left: 1.5em;
}

#add-event-btn {
    right: 1.5em;
}

.action-btn:hover {
    background: #4fc3f7;
    color: black;
    transform: rotate(45deg);
}

body.modal-open .action-btn, body.viewer-open .action-btn {
    display: none;
}

/* --- Settings Modal --- */
#settings-modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    z-index: 3000;
    padding: 2em;
    align-items: center;
    justify-content: center;
}

.settings-panel {
    background: #16181e;
    border-radius: 16px;
    padding: 2em;
    color: #fff;
    max-width: 500px;
    width: 100%;
    border: 1.5px solid #4fc3f7;
    position: relative;
}

    .settings-panel h2 {
        text-align: center;
        font-size: 1.7em;
        color: #4fc3f7;
        margin-top: 0;
    }

.setting-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5em;
    font-size: 1.1em;
}

    .setting-row label {
        color: #aeefff;
        font-weight: 500;
    }

    .setting-row input[type="text"] {
        background: #0c1820;
        color: white;
        border: 1px solid #4fc3f7;
        border-radius: 6px;
        padding: 0.5em;
        min-width: 200px;
    }

#save-settings-btn {
    display: block;
    width: 100%;
    padding: 0.8em;
    background: #4fc3f7;
    color: black;
    border: none;
    border-radius: 8px;
    font-size: 1.2em;
    font-weight: bold;
    cursor: pointer;
    margin-top: 1em;
}

.count-options-fieldset {
    border: 1px solid #4fc3f7;
    border-radius: 8px;
    padding: 1em;
    margin-bottom: 1.5em;
}

    .count-options-fieldset legend {
        color: #aeefff;
        font-weight: 500;
        padding: 0 0.5em;
    }

.radio-option {
    display: flex;
    align-items: center;
    margin-bottom: 0.75em;
}

    .radio-option label {
        margin-left: 0.5em;
        flex-grow: 1;
    }

#custom-count-input {
    width: 60px;
    margin-left: 0.5em;
    background: #0c1820;
    color: white;
    border: 1px solid #4fc3f7;
    border-radius: 4px;
    padding: 0.2em 0.5em;
}

    #custom-count-input:disabled {
        background: #333;
        border-color: #555;
        cursor: not-allowed;
    }

/* --- Slider Toggle Styles --- */
.switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 28px;
}

    .switch input {
        opacity: 0;
        width: 0;
        height: 0;
    }

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #333;
    transition: .4s;
    border-radius: 28px;
    border: 1px solid #4fc3f7;
}

    .slider:before {
        position: absolute;
        content: "";
        height: 20px;
        width: 20px;
        left: 3px;
        bottom: 3px;
        background-color: #aeefff;
        transition: .4s;
        border-radius: 50%;
    }

input:checked + .slider {
    background-color: #4fc3f7;
}

    input:checked + .slider:before {
        transform: translateX(22px);
        background-color: #0c1820;
    }

/* --- Details View Toolbox --- */
.card-toolbox-left {
    position: absolute;
    top: 1.5em;
    left: -2em;
    z-index: 11;
    display: flex;
    flex-direction: column;
    gap: 0.5em;
}

.toolbox-btn {
    background: #0c1820;
    color: #aeefff;
    border: 1px solid #4fc3f7;
    cursor: pointer;
    padding: 0;
    border-radius: 50%;
    transition: all 0.2s;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
}

    .toolbox-btn:hover {
        background-color: #223344;
        color: #fff;
    }

    .toolbox-btn svg {
        width: 18px;
        height: 18px;
    }

#delete-event-btn:hover {
    background-color: #610404;
    color: #ff9a9a;
}

.details-card .close-btn {
    position: static;
}
/* Override absolute positioning */

/* --- Drag and Drop Marker --- */
#drop-marker {
    display: none;
    position: absolute;
    width: 100%;
    height: 4px;
    background-color: #ff5722;
    z-index: 500;
    pointer-events: none;
    box-shadow: 0 0 10px #ff5722;
}

/* --- Edit/Add Modal Styles --- */
.modal-card input[type="text"], .modal-card input[type="datetime-local"], .modal-card textarea {
    background: #0c1820;
    color: white;
    border: 1px solid #16181e;
    border-radius: 6px;
    padding: 0.5em;
    box-sizing: border-box;
    transition: border-color 0.2s;
    width: 100%;
}

    .modal-card input[type="text"]:focus, .modal-card input[type="datetime-local"]:focus, .modal-card textarea:focus {
        border-color: #4fc3f7;
        outline: none;
    }

.modal-card .color-picker-wrapper {
    display: flex;
    justify-content: space-around;
    align-items: center;
    margin-top: 1.5em;
    padding-top: 1em;
    border-top: 1px solid #333;
}

.modal-card input[type="color"] {
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    width: 40px;
    height: 30px;
    padding: 0;
    border: 1px solid #4fc3f7;
    border-radius: 6px;
    background-color: transparent;
    cursor: pointer;
}

    .modal-card input[type="color"]::-webkit-color-swatch-wrapper {
        padding: 0;
    }

    .modal-card input[type="color"]::-webkit-color-swatch {
        border: none;
        border-radius: 5px;
    }

#image-drop-zone {
    border: 2px dashed #4fc3f7;
    border-radius: 8px;
    padding: 1em;
    text-align: center;
    color: #aeefff;
    margin-top: 1em;
    transition: background-color 0.2s;
}

    #image-drop-zone.drag-over {
        background-color: #223344;
    }

#image-preview-gallery {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
    margin-top: 10px;
    justify-content: center;
}

.thumbnail-container {
    position: relative;
    display: inline-block;
}

    .thumbnail-container img {
        max-width: 80px;
        max-height: 80px;
        border-radius: 8px;
        cursor: pointer;
    }

.thumbnail-remove-btn {
    display: none;
    position: absolute;
    top: -8px;
    right: -8px;
    background: #0c1820;
    color: #4fc3f7;
    border: 1.5px solid #4fc3f7;
    border-radius: 50%;
    width: 24px;
    height: 24px;
    line-height: 22px;
    text-align: center;
    cursor: pointer;
    font-weight: bold;
    z-index: 1;
    font-size: 14px;
}

.thumbnail-container:hover .thumbnail-remove-btn {
    display: block;
}

#image-viewer-modal img {
    max-width: 90vw;
    max-height: 90vh;
    object-fit: contain;
}
